(function(e){function t(t){for(var a,r,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);b&&b(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"15d07991"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"d68dd32c"}[e]+".css",o=s.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],b.parentNode.removeChild(b),n(c)},b.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a98":function(e,t,n){"use strict";n("c01a")},"2b9d":function(e,t,n){"use strict";n("b550")},"3a79":function(e,t,n){"use strict";n("3c4e")},"3c4e":function(e,t,n){},"3e05":function(e,t,n){"use strict";n("62c0")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("0cdd");var a=n("7a23");function r(e,t,n,r,o,c){var i=Object(a["y"])("Header"),s=Object(a["y"])("router-view"),u=Object(a["y"])("Footer");return Object(a["r"])(),Object(a["d"])(a["a"],null,[Object(a["h"])(i),Object(a["h"])(s),Object(a["h"])(u)],64)}n("c975"),n("ac1f"),n("1276");var o=Object(a["J"])("data-v-55d60999");Object(a["u"])("data-v-55d60999");var c={class:"header"},i={class:"menu-conatiner"},s=Object(a["h"])("span",{class:"logo"},"OtakuRealm",-1),u=Object(a["h"])("div",{class:"search-bar"},[Object(a["h"])("input",{type:"text",class:"search-bar-input",placeholder:"Search Animes here..."})],-1),l={class:"actions"},d=Object(a["g"])("Sign in/Log in"),b=Object(a["g"])(" Profil "),m=Object(a["g"])(" Log out ");Object(a["s"])();var h=o((function(e,t,n,r,h,f){var p=Object(a["y"])("router-link");return Object(a["r"])(),Object(a["d"])("header",c,[Object(a["h"])("div",i,[Object(a["h"])(p,{to:"/"},{default:o((function(){return[s]})),_:1})]),u,Object(a["h"])("div",l,[e.$store.state.authenticated?(Object(a["r"])(),Object(a["d"])(a["a"],{key:1},[Object(a["h"])(p,{to:"/profil",class:"menu-link"},{default:o((function(){return[b]})),_:1}),Object(a["h"])(p,{to:"/",class:"menu-link",onClick:f.logout},{default:o((function(){return[m]})),_:1},8,["onClick"])],64)):(Object(a["r"])(),Object(a["d"])(p,{key:0,to:"/login",class:"menu-link"},{default:o((function(){return[d]})),_:1}))])])})),f={name:"Header",methods:{logout:function(){var e=this;this.$store.dispatch("auth_logout").then((function(){e.$router.push("/login")}))}}};n("3e05");f.render=h,f.__scopeId="data-v-55d60999";var p=f,j=Object(a["J"])("data-v-d3808048");Object(a["u"])("data-v-d3808048");var O={class:"site-footer"},v=Object(a["f"])('<div class="container" data-v-d3808048><div class="container-item" data-v-d3808048><div class="about" data-v-d3808048><h6 data-v-d3808048>About</h6><p class="text-justify" data-v-d3808048>otakurealm.mooo.com <i data-v-d3808048>DEVELOPPED BY STUDENTS FOR A SCHOOL PROJECT </i> is a web application, offering personalized anime recommendations for users </p></div><div class="categorie" data-v-d3808048><h6 data-v-d3808048>Categories</h6><ul class="footer-links" data-v-d3808048><li data-v-d3808048><a href="http://cazabetremy.fr/wiki/doku.php?id=projet:sujets" data-v-d3808048>LifProjet</a></li><li data-v-d3808048><a href="https://myanimelist.net/" data-v-d3808048>MyAnimeList</a></li><li data-v-d3808048><a href="#" data-v-d3808048>PHP</a></li></ul></div><div class="links" data-v-d3808048><h6 data-v-d3808048>Quick Links</h6><ul class="footer-links" data-v-d3808048><li data-v-d3808048><a href="#" data-v-d3808048>About Us</a></li><li data-v-d3808048><a href="#" data-v-d3808048>Contact Us</a></li><li data-v-d3808048><a href="#" data-v-d3808048>Privacy Policy</a></li></ul></div></div><hr data-v-d3808048></div><div class="container" data-v-d3808048><div class="container-item" data-v-d3808048><div class="copyright" data-v-d3808048><p class="copyright-text" data-v-d3808048>Copyright Â© 2021 All Rights Reserved by OtakuRealm.</p></div><div class="icons" data-v-d3808048><ul class="social-icons" data-v-d3808048><li data-v-d3808048><a class="facebook" href="#" data-v-d3808048><i class="fa fa-facebook" data-v-d3808048></i></a></li><li data-v-d3808048><a class="twitter" href="#" data-v-d3808048><i class="fa fa-twitter" data-v-d3808048></i></a></li><li data-v-d3808048><a class="dribbble" href="#" data-v-d3808048><i class="fa fa-dribbble" data-v-d3808048></i></a></li><li data-v-d3808048><a class="linkedin" href="#" data-v-d3808048><i class="fa fa-linkedin" data-v-d3808048></i></a></li></ul></div></div></div>',2);Object(a["s"])();var g=j((function(e,t,n,r,o,c){return Object(a["r"])(),Object(a["d"])("footer",O,[v])})),k={name:"Footer",methods:{}};n("e6e2");k.render=g,k.__scopeId="data-v-d3808048";var y=k,A={name:"App",components:{Header:p,Footer:y},methods:{getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),a=n.split(";"),r=0;r<a.length;r++){var o=a[r];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}},mounted:function(){""!=this.getCookie("token")&&this.$store.dispatch("authenticated")}};n("5c5d");A.render=r;var x=A,w=(n("d3b7"),n("6c02")),T=Object(a["J"])("data-v-8c19de36");Object(a["u"])("data-v-8c19de36");var S={class:"home"},_={class:"featured-vertical"},R={class:"featured-horizontal"},E={class:"featured-content"},C={class:"featured-content-title"},U={class:"featured-content-synopsis"},I=Object(a["h"])("div",{class:"featured-content"},[Object(a["h"])("div",{class:"featured-content-title"},"Top all time")],-1),N={class:"carousel__item"},H=Object(a["h"])("div",{class:"featured-content"},[Object(a["h"])("div",{class:"featured-content-title"},"Top Anime Spring 2021")],-1),L={class:"carousel__item"},P=Object(a["h"])("div",{class:"featured-content"},[Object(a["h"])("div",{class:"featured-content-title"},"Top Anime 2021")],-1),$={class:"carousel__item"};Object(a["s"])();var z=T((function(e,t,n,r,o,c){var i=Object(a["y"])("Slide"),s=Object(a["y"])("Navigation"),u=Object(a["y"])("Pagination"),l=Object(a["y"])("Carousel");return Object(a["r"])(),Object(a["d"])("div",S,[Object(a["h"])(l,{key:e.update2},{addons:T((function(){return[Object(a["h"])(s),Object(a["h"])(u)]})),default:T((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.animesHead,(function(e){return Object(a["r"])(),Object(a["d"])(i,{key:e},{default:T((function(){return[Object(a["h"])("div",{class:"featured",style:{"background-image":"url("+e.URL+")"}},[Object(a["h"])("div",_,[Object(a["h"])("div",R,[Object(a["h"])("div",E,[Object(a["h"])("div",C,Object(a["A"])(e.title),1),Object(a["h"])("span",U,Object(a["A"])(e.synopsis),1)])])])],4)]})),_:2},1024)})),128))]})),_:1}),I,Object(a["h"])(l,{settings:e.settings,breakpoints:e.breakpoints,key:e.$store.state.animesAllTime},{addons:T((function(){return[Object(a["h"])(s)]})),default:T((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.$store.state.animesAllTime,(function(e){return Object(a["r"])(),Object(a["d"])(i,{key:e.id},{default:T((function(){return[Object(a["h"])("div",N,[Object(a["h"])("a",{href:"#/detailanime?id="+e.id,draggable:"false"},[Object(a["h"])("img",{src:e.URL,alt:e.title,class:"card-image",draggable:"false"},null,8,["src","alt"])],8,["href"])])]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"]),H,Object(a["h"])(l,{settings:e.settings,breakpoints:e.breakpoints,key:e.$store.state.animesSeason},{addons:T((function(){return[Object(a["h"])(s)]})),default:T((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.$store.state.animesSeason,(function(e){return Object(a["r"])(),Object(a["d"])(i,{key:e.id},{default:T((function(){return[Object(a["h"])("div",L,[Object(a["h"])("a",{href:"#/detailanime?id="+e.id,draggable:"false"},[Object(a["h"])("img",{src:e.URL,alt:e.title,class:"card-image",draggable:"false"},null,8,["src","alt"])],8,["href"])])]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"]),P,Object(a["h"])(l,{settings:e.settings,breakpoints:e.breakpoints,key:e.$store.state.animeYear},{addons:T((function(){return[Object(a["h"])(s)]})),default:T((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.$store.state.animeYear,(function(e){return Object(a["r"])(),Object(a["d"])(i,{key:e.id},{default:T((function(){return[Object(a["h"])("div",$,[Object(a["h"])("a",{href:"#/detailanime?id="+e.id,draggable:"false"},[Object(a["h"])("img",{src:e.URL,alt:e.title,class:"card-image",draggable:"false"},null,8,["src","alt"])],8,["href"])])]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"])])})),M=(n("96cf"),n("1da1")),V=n("0b81"),J=(n("4001"),Object(a["i"])({name:"Home",components:{Carousel:V["a"],Slide:V["d"],Pagination:V["c"],Navigation:V["b"]},data:function(){return{update:0,update2:0,animes:[],animesHead:[],settings:{itemsToShow:1,snapAlign:"center"},breakpoints:{700:{itemsToShow:3.5,snapAlign:"center"},850:{itemsToShow:5,snapAlign:"center"},1250:{itemsToShow:8,snapAlign:"start"}}}},created:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAnimesHead();case 2:case"end":return t.stop()}}),t)})))()},methods:{getAnimesHead:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/anime/1");case 2:return n=t.sent,t.t0=e.animesHead,t.next=6,n.json();case 6:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=10,fetch("http://otakurealm.mooo.com/api/anime/20");case 10:return n=t.sent,t.t2=e.animesHead,t.next=14,n.json();case 14:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.next=18,fetch("http://otakurealm.mooo.com/api/anime/21");case 18:return n=t.sent,t.t4=e.animesHead,t.next=22,n.json();case 22:t.t5=t.sent,t.t4.push.call(t.t4,t.t5),e.update2+=1;case 25:case"end":return t.stop()}}),t)})))()}},beforeCreate:function(){this.$store.dispatch("getAnimes"),this.$store.dispatch("getAnimesTopAll"),this.$store.dispatch("getAnimesSeason"),this.$store.dispatch("getAnimesYear")}}));n("dcaf");J.render=z,J.__scopeId="data-v-8c19de36";var F=J,G=Object(a["J"])("data-v-1940df86");Object(a["u"])("data-v-1940df86");var q={class:"login"},B={class:"featured"},D={class:"featured-vertical"},Y={class:"featured-horizontal"},K={class:"featured-content"},Q={class:"form"},W={class:"btn-area"};Object(a["s"])();var X=G((function(e,t,n,r,o,c){var i=Object(a["y"])("Log"),s=Object(a["y"])("Signup");return Object(a["r"])(),Object(a["d"])("div",q,[Object(a["h"])("div",B,[Object(a["h"])("div",D,[Object(a["h"])("div",Y,[Object(a["h"])("div",K,[Object(a["h"])("div",Q,[e.login?(Object(a["r"])(),Object(a["d"])(i,{key:0})):(Object(a["r"])(),Object(a["d"])(s,{key:1}))]),Object(a["h"])("div",W,[e.login?(Object(a["r"])(),Object(a["d"])("button",{key:0,class:"btn",type:"button",onClick:t[1]||(t[1]=function(){return c.isVisible&&c.isVisible.apply(c,arguments)})}," Create account ")):(Object(a["r"])(),Object(a["d"])("button",{key:1,class:"btn",type:"button",onClick:t[2]||(t[2]=function(){return c.isVisible&&c.isVisible.apply(c,arguments)})}," Log-in "))])])])])])])})),Z=Object(a["J"])("data-v-93472c3e");Object(a["u"])("data-v-93472c3e");var ee={name:"form"},te={class:"login-box"},ne=Object(a["h"])("h1",null,"Login",-1),ae={class:"text-box"},re=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),oe={class:"text-box"},ce=Object(a["h"])("i",{class:"fa fa-lock","aria-hidden":"true"},null,-1),ie={class:"error",id:"errorname"};Object(a["s"])();var se=Z((function(e,t,n,r,o,c){return Object(a["r"])(),Object(a["d"])("form",ee,[Object(a["h"])("div",te,[ne,Object(a["h"])("div",ae,[re,Object(a["H"])(Object(a["h"])("input",{id:"username",type:"text",placeholder:"Username",name:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.username=e})},null,512),[[a["E"],o.form.username]])]),Object(a["h"])("div",oe,[ce,Object(a["H"])(Object(a["h"])("input",{id:"password",type:"password",placeholder:"Password",name:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.form.password=e})},null,512),[[a["E"],o.form.password]])]),Object(a["h"])("span",ie,Object(a["A"])(e.$store.state.alert),1),Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Log-in",onClick:t[3]||(t[3]=function(){return c.login&&c.login.apply(c,arguments)})})])])})),ue={name:"Log",data:function(){return{form:{username:"",password:""}}},methods:{login:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.forms["form"]["username"],a=document.forms["form"]["password"],""==n.value||""==a.value?(console.log("remplir champs"),e.$store.state.alert="champ(s) non rempli(s)",document.getElementById("username").value="",document.getElementById("password").value=""):e.$store.dispatch("getToken",{username:e.form.username,password:e.form.password,router:e.$router});case 3:case"end":return t.stop()}}),t)})))()}}};n("c6ed");ue.render=se,ue.__scopeId="data-v-93472c3e";var le=ue,de=Object(a["J"])("data-v-bd170d48");Object(a["u"])("data-v-bd170d48");var be={class:"signup-box"},me=Object(a["h"])("h1",null,"Sign-up",-1),he=Object(a["h"])("label",{for:"name"},"Usurname : ",-1),fe={class:"text-box"},pe=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),je=Object(a["h"])("label",{for:"name"},"Email : ",-1),Oe={class:"text-box"},ve=Object(a["h"])("i",{class:"fa fa-send","aria-hidden":"true"},null,-1),ge=Object(a["h"])("label",{for:"name"},"Confirm your email : ",-1),ke={class:"text-box"},ye=Object(a["h"])("i",{class:"fa fa-send","aria-hidden":"true"},null,-1),Ae=Object(a["h"])("label",{for:"name"},"Password: ",-1),xe={class:"text-box"},we=Object(a["h"])("i",{class:"fa fa-lock","aria-hidden":"true"},null,-1),Te=Object(a["h"])("label",{for:"name"},"Confirm your password : ",-1),Se={class:"text-box"},_e=Object(a["h"])("i",{class:"fa fa-lock","aria-hidden":"true"},null,-1);Object(a["s"])();var Re=de((function(e,t,n,r,o,c){return Object(a["r"])(),Object(a["d"])("div",be,[me,he,Object(a["h"])("div",fe,[pe,Object(a["H"])(Object(a["h"])("input",{type:"text",placeholder:"Username",name:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.username=e})},null,512),[[a["E"],o.form.username]])]),je,Object(a["h"])("div",Oe,[ve,Object(a["H"])(Object(a["h"])("input",{type:"email",placeholder:"OtakuRealm@mail.com",name:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.form.email=e})},null,512),[[a["E"],o.form.email]])]),ge,Object(a["h"])("div",ke,[ye,Object(a["H"])(Object(a["h"])("input",{type:"email",placeholder:"OtakuRealm@mail.com",name:"email2","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.form.email2=e})},null,512),[[a["E"],o.form.email2]])]),Ae,Object(a["h"])("div",xe,[we,Object(a["H"])(Object(a["h"])("input",{type:"password",placeholder:"Password",name:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.form.password=e})},null,512),[[a["E"],o.form.password]])]),Te,Object(a["h"])("div",Se,[_e,Object(a["H"])(Object(a["h"])("input",{type:"password",placeholder:"Password",name:"password2","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.form.password2=e})},null,512),[[a["E"],o.form.password2]])]),Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Sign-Up",onClick:t[6]||(t[6]=function(){return c.register&&c.register.apply(c,arguments)})})])})),Ee={name:"Signup",data:function(){return{form:{username:"",password:"",password2:"",email:"",email2:""}}},methods:{register:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.mail!=e.form.mail2||e.form.password!=e.form.password2){t.next=6;break}return t.next=3,fetch("http://otakurealm.mooo.com/api/register/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.form.username,password:e.form.password,email:e.form.email})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}));case 3:e.$store.dispatch("getToken",{username:e.form.username,password:e.form.password,router:e.$router}),t.next=7;break;case 6:console.log("pas les meme mdp ou mail");case 7:case"end":return t.stop()}}),t)})))()},connect:function(e){if(null==e)return null;void 0!=e.token?(console.log(e.token),document.cookie="token = "+e.token,this.$router.push("/")):console.log("erreur connexion (mauvais mdp ou mail)")}}};n("2b9d");Ee.render=Re,Ee.__scopeId="data-v-bd170d48";var Ce=Ee,Ue={name:"Login",data:function(){return{login:!0}},components:{Log:le,Signup:Ce},methods:{isVisible:function(){this.login=!this.login}}};n("cd2e");Ue.render=X,Ue.__scopeId="data-v-1940df86";var Ie=Ue,Ne=(n("b0c0"),Object(a["J"])("data-v-5dc0319b"));Object(a["u"])("data-v-5dc0319b");var He={class:"profil"},Le={key:0,class:"featured"},Pe={class:"featured-vertical"},$e={class:"featured-horizontal"},ze={class:"featured-content"},Me={class:"form-box"},Ve=Object(a["h"])("h1",null,"Edit your profil",-1),Je={class:"text-box"},Fe=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),Ge={class:"text-box"},qe=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),Be={class:"text-box"},De=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),Ye={class:"text-box"},Ke=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),Qe={key:0,selected:"",value:"M"},We={key:1,value:"M"},Xe={key:2,selected:"",value:"F"},Ze={key:3,value:"F"},et={class:"text-box"},tt=Object(a["h"])("i",{class:"fa fa-user","aria-hidden":"true"},null,-1),nt={class:"buttons"},at={key:1,class:"featured"},rt={class:"featured-vertical"},ot={class:"featured-horizontal"},ct={class:"featured-content"},it=Object(a["h"])("div",{class:"featured-content-title"},"Profil",-1),st={class:"featured-content-synopsis"},ut={class:"genres"},lt={class:"buttons",style:{width:"300px"}},dt=Object(a["h"])("div",{class:"featured-content"},[Object(a["h"])("div",{class:"featured-content-title"},"Watchlist")],-1),bt={class:"carousel__item"},mt=Object(a["h"])("div",{class:"featured-content"},[Object(a["h"])("div",{class:"featured-content-title"},"Recommandation")],-1),ht={class:"carousel__item"};Object(a["s"])();var ft=Ne((function(e,t,n,r,o,c){var i=Object(a["y"])("router-link"),s=Object(a["y"])("Slide"),u=Object(a["y"])("Navigation"),l=Object(a["y"])("Carousel");return Object(a["r"])(),Object(a["d"])("div",He,[e.formulaire?(Object(a["r"])(),Object(a["d"])("div",Le,[Object(a["h"])("div",Pe,[Object(a["h"])("div",$e,[Object(a["h"])("div",ze,[Object(a["h"])("div",Me,[Ve,Object(a["h"])("div",Je,[Fe,Object(a["H"])(Object(a["h"])("input",{type:"text",placeholder:"Username",name:"username","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.username=t})},null,512),[[a["E"],e.user.username]])]),Object(a["h"])("div",Ge,[qe,Object(a["H"])(Object(a["h"])("input",{type:"text",placeholder:"profil picture url",name:"url","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.user.photo_de_profil=t})},null,512),[[a["E"],e.user.photo_de_profil]])]),Object(a["h"])("div",Be,[De,Object(a["H"])(Object(a["h"])("input",{type:"number",placeholder:"Age",name:"Age","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.user.age=t})},null,512),[[a["E"],e.user.age]])]),Object(a["h"])("div",Ye,[Ke,Object(a["H"])(Object(a["h"])("select",{type:"text",placeholder:"Sex",name:"username","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.user.sexe=t})},["M"==e.user.sexe?(Object(a["r"])(),Object(a["d"])("option",Qe," Male ")):(Object(a["r"])(),Object(a["d"])("option",We,"Male")),"F"==e.user.sexe?(Object(a["r"])(),Object(a["d"])("option",Xe," Female ")):(Object(a["r"])(),Object(a["d"])("option",Ze,"Female"))],512),[[a["D"],e.user.sexe]])]),Object(a["h"])("div",et,[tt,Object(a["H"])(Object(a["h"])("input",{type:"text",placeholder:"Bio",name:"bio","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.user.bio=t})},null,512),[[a["E"],e.user.bio]])]),Object(a["h"])("div",nt,[Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Save changes",onClick:t[6]||(t[6]=function(){return e.editProfil&&e.editProfil.apply(e,arguments)})}),Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Cancel",onClick:t[7]||(t[7]=function(t){return e.formulaire=!1})})])])])])])])):(Object(a["r"])(),Object(a["d"])("div",at,[Object(a["h"])("div",rt,[Object(a["h"])("div",ot,[Object(a["h"])("div",ct,[it,Object(a["h"])("span",st,[Object(a["h"])("img",{class:"photo",src:e.userInfo[0].photo_de_profil},null,8,["src"]),Object(a["h"])("p",null,Object(a["A"])(e.userInfo[0].bio),1),Object(a["h"])("p",null,"Sex: "+Object(a["A"])(e.userInfo[0].sexe),1),Object(a["h"])("p",null,"Age: "+Object(a["A"])(e.userInfo[0].age),1)]),Object(a["h"])("div",ut,[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.selected,(function(e){return Object(a["r"])(),Object(a["d"])("div",{class:"genre",key:e.id},[Object(a["h"])("label",{class:"noselect",for:e.id_genre.id},Object(a["A"])(e.id_genre.name),9,["for"])])})),128))]),Object(a["h"])("div",lt,[Object(a["h"])(i,{class:"link",to:"/recommandation"},{default:Ne((function(){return[Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Edit genres",onClick:t[8]||(t[8]=function(t){return e.formulaire=!1})})]})),_:1}),Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Edit profil",onClick:t[9]||(t[9]=function(t){return e.formulaire=!0})})])])])])])),dt,Object(a["h"])(l,{settings:e.settings,breakpoints:e.breakpoints,key:e.selectedAnime},{addons:Ne((function(){return[Object(a["h"])(u)]})),default:Ne((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.selectedAnime,(function(e){return Object(a["r"])(),Object(a["d"])(s,{key:e},{default:Ne((function(){return[Object(a["h"])("div",bt,[Object(a["h"])("a",{href:"#/detailanime?id="+e.id_anime.id,draggable:"false"},[Object(a["h"])("img",{src:e.id_anime.URL,alt:e.id_anime.title,class:"card-image",draggable:"false"},null,8,["src","alt"])],8,["href"])])]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"]),mt,Object(a["h"])(l,{settings:e.settings,breakpoints:e.breakpoints,key:e.updateR},{addons:Ne((function(){return[Object(a["h"])(u)]})),default:Ne((function(){return[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.recommandation,(function(e){return Object(a["r"])(),Object(a["d"])(s,{key:e},{default:Ne((function(){return[Object(a["h"])("div",ht,[Object(a["h"])("a",{href:"#/detailanime?id="+e.id,draggable:"false"},[Object(a["h"])("img",{src:e.URL,alt:e.title,class:"card-image",draggable:"false"},null,8,["src","alt"])],8,["href"])])]})),_:2},1024)})),128))]})),_:1},8,["settings","breakpoints"])])})),pt=n("b85c"),jt=Object(a["i"])({name:"Profil",components:{Carousel:V["a"],Slide:V["d"],Navigation:V["b"]},data:function(){return{formulaire:!1,userInfo:[{}],selected:[],selectedAnime:[],listeRecommadation:[],recommandation:[],updateR:0,user:{},settings:{itemsToShow:1,snapAlign:"center"},breakpoints:{700:{itemsToShow:3.5,snapAlign:"center"},850:{itemsToShow:5,snapAlign:"center"},1250:{itemsToShow:5,snapAlign:"start"}}}},created:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfoUser();case 2:return t.next=4,e.getAnimeUser();case 4:return t.next=6,e.getGenreUser();case 6:return t.next=8,e.getRecommandationUser();case 8:case"end":return t.stop()}}),t)})))()},methods:{getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),a=n.split(";"),r=0;r<a.length;r++){var o=a[r];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},getInfoUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/info_utilisateur/",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.userInfo=t.sent,e.user=e.userInfo[0];case 9:case"end":return t.stop()}}),t)})))()},getAnimeUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.selectedAnime=t.sent;case 8:case"end":return t.stop()}}),t)})))()},getGenreUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/genre/utilisateur",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.selected=t.sent;case 8:case"end":return t.stop()}}),t)})))()},getRecommandationUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/recommandation/",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.listeRecommadation=t.sent,e.getAnimes();case 9:case"end":return t.stop()}}),t)})))()},getAnimes:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.listeRecommadation),n=Object(pt["a"])(e.listeRecommadation),t.prev=2,n.s();case 4:if((a=n.n()).done){t.next=16;break}return r=a.value,t.next=8,fetch("http://otakurealm.mooo.com/api/anime/"+r.id_anime);case 8:return o=t.sent,t.t0=e.recommandation,t.next=12,o.json();case 12:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t2=t["catch"](2),n.e(t.t2);case 21:return t.prev=21,n.f(),t.finish(21);case 24:console.log(e.recommandation),e.updateR+=1;case 26:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))()},editProfil:function(){var e={"Content-Type":"application/json"};e["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/info_utilisateur/",{method:"PUT",headers:e,body:JSON.stringify(this.user)}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)})),this.formulaire=!1}}});n("8232");jt.render=ft,jt.__scopeId="data-v-5dc0319b";var Ot=jt,vt=(n("caad"),n("2532"),Object(a["J"])("data-v-4d56d36f"));Object(a["u"])("data-v-4d56d36f");var gt={class:"profil"},kt={class:"featured"},yt={class:"featured-vertical"},At={class:"featured-horizontal"},xt={class:"featured-content"},wt={class:"featured-content-title"},Tt={class:"featured-content-anime"},St={class:"featured-content-synopsis"},_t={class:"featured-content-details"},Rt={class:"genres"},Et={class:"genre"},Ct=Object(a["h"])("option",{value:"-1"},"---",-1),Ut={key:0,selected:"",value:"0"},It={key:1,value:"0"},Nt={key:2,selected:"",value:"1"},Ht={key:3,value:"1"},Lt={key:4,selected:"",value:"2"},Pt={key:5,value:"2"},$t={key:6,selected:"",value:"3"},zt={key:7,value:"3"},Mt={key:8,selected:"",value:"4"},Vt={key:9,value:"4"},Jt={key:10,selected:"",value:"5"},Ft={key:11,value:"5"},Gt={key:12,selected:"",value:"6"},qt={key:13,value:"6"},Bt={key:14,selected:"",value:"7"},Dt={key:15,value:"7"},Yt={key:16,selected:"",value:"8"},Kt={key:17,value:"8"},Qt={key:18,selected:"",value:"9"},Wt={key:19,value:"9"},Xt={key:20,selected:"",value:"10"},Zt={key:21,value:"10"},en={class:"featured-content"},tn=Object(a["h"])("div",{class:"featured-content-title"},"Synopsis",-1),nn={class:"featured-content-synopsis"};Object(a["s"])();var an=vt((function(e,t,n,r,o,c){return Object(a["r"])(),Object(a["d"])("div",gt,[Object(a["h"])("div",kt,[Object(a["h"])("div",yt,[Object(a["h"])("div",At,[Object(a["h"])("div",xt,[Object(a["h"])("div",wt,Object(a["A"])(e.anime.title),1),Object(a["h"])("div",Tt,[Object(a["h"])("span",St,[Object(a["h"])("img",{class:"photo",src:e.anime.URL,alt:e.anime.title},null,8,["src","alt"])]),Object(a["h"])("span",_t,[Object(a["h"])("p",null,"Season : "+Object(a["A"])(e.anime.season),1),Object(a["h"])("p",null,"Number of episodes : "+Object(a["A"])(e.anime.number_of_episodes),1),Object(a["h"])("p",null,"Episode duration : "+Object(a["A"])(e.anime.episode_duration),1),Object(a["h"])("p",null,"Number of season : "+Object(a["A"])(e.anime.season),1),Object(a["h"])("p",null,"Studio : "+Object(a["A"])(e.anime.production_studio),1),Object(a["h"])("p",null,"Rating : "+Object(a["A"])(e.anime.score)+"/10",1)])]),Object(a["h"])("div",Rt,[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.anime.genres,(function(e){return Object(a["r"])(),Object(a["d"])("div",{class:"genre",key:e.id},[Object(a["h"])("label",{class:"noselect",for:e},Object(a["A"])(e),9,["for"])])})),128))]),Object(a["h"])("div",Et,[Object(a["H"])(Object(a["h"])("input",{class:"check-input",type:"checkbox",id:e.anime.id,value:e.anime.id,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedAnime=t}),onClick:t[2]||(t[2]=function(t){return c.animes(e.anime.id)})},null,8,["id","value"]),[[a["C"],e.selectedAnime]]),Object(a["h"])("label",{class:"noselect ajoutAnime",for:e.anime.id}," Ajout Ã  la watchlist ",8,["for"]),e.selectedAnime.includes(e.anime.id)?(Object(a["r"])(),Object(a["d"])("select",{key:0,class:"noselect ajoutAnime",id:e.anime.id-1e3,onChange:t[3]||(t[3]=function(t){return c.changeNote(e.anime.id-1e3)})},[Ct,0==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Ut,"0")):(Object(a["r"])(),Object(a["d"])("option",It,"0")),1==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Nt,"1")):(Object(a["r"])(),Object(a["d"])("option",Ht,"1")),2==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Lt,"2")):(Object(a["r"])(),Object(a["d"])("option",Pt,"2")),3==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",$t,"3")):(Object(a["r"])(),Object(a["d"])("option",zt,"3")),4==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Mt,"4")):(Object(a["r"])(),Object(a["d"])("option",Vt,"4")),5==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Jt,"5")):(Object(a["r"])(),Object(a["d"])("option",Ft,"5")),6==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Gt,"6")):(Object(a["r"])(),Object(a["d"])("option",qt,"6")),7==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Bt,"7")):(Object(a["r"])(),Object(a["d"])("option",Dt,"7")),8==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Yt,"8")):(Object(a["r"])(),Object(a["d"])("option",Kt,"8")),9==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Qt,"9")):(Object(a["r"])(),Object(a["d"])("option",Wt,"9")),10==c.score(e.anime.id)?(Object(a["r"])(),Object(a["d"])("option",Xt,"10")):(Object(a["r"])(),Object(a["d"])("option",Zt,"10"))],40,["id"])):Object(a["e"])("",!0)])])])])]),Object(a["h"])("div",en,[tn,Object(a["h"])("span",nn,[Object(a["h"])("p",null,Object(a["A"])(e.anime.synopsis),1)])])])})),rn=(n("7db0"),{name:"Home",data:function(){return{anime:{},selectedAnime:[],selectedAnimeScore:[{}],settings:{itemsToShow:1,snapAlign:"center"},breakpoints:{700:{itemsToShow:3.5,snapAlign:"center"},850:{itemsToShow:5,snapAlign:"center"},1250:{itemsToShow:5,snapAlign:"start"}}}},created:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAnimes();case 2:return t.next=4,e.getAnimeUser();case 4:case"end":return t.stop()}}),t)})))()},methods:{getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),a=n.split(";"),r=0;r<a.length;r++){var o=a[r];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},getAnimes:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.query.id,t.next=3,fetch("http://otakurealm.mooo.com/api/anime/"+n);case 3:return a=t.sent,t.next=6,a.json();case 6:e.anime=t.sent;case 7:case"end":return t.stop()}}),t)})))()},getAnimeUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.userAnime=t.sent,r=[[]],o=Object(pt["a"])(e.userAnime);try{for(o.s();!(c=o.n()).done;)r=c.value,e.selectedAnime.push(r.id_anime.id),i={id:r.id_anime.id,score:r.score},e.selectedAnimeScore.push(i)}catch(s){o.e(s)}finally{o.f()}case 11:case"end":return t.stop()}}),t)})))()},animes:function(e){var t;t=this.selectedAnime.includes(e)?"DELETE":"POST";var n={"Content-Type":"application/json"};n["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{method:t,headers:n,body:JSON.stringify({id_anime:e,score:-1,description:"------"})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}))},changeNote:function(e){var t=document.getElementById(e).value,n={"Content-Type":"application/json"};n["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{method:"put",headers:n,body:JSON.stringify({id_anime:e+1e3,score:t})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}))},score:function(e){return this.selectedAnimeScore.find((function(t){return t.id===e}))?this.selectedAnimeScore.find((function(t){return t.id===e})).score:-1}}});n("0a98");rn.render=an,rn.__scopeId="data-v-4d56d36f";var on=rn,cn=Object(a["J"])("data-v-6e0fc5b6");Object(a["u"])("data-v-6e0fc5b6");var sn={class:"Recommandation"},un={class:"featured"},ln={class:"featured-vertical"},dn={class:"featured-horizontal"},bn={class:"featured-content"},mn={class:"checkbox"},hn=Object(a["h"])("h2",null,"Renseignez vos genres favoris",-1),fn={class:"genres"},pn={class:"checkbox"},jn=Object(a["h"])("h2",null,"Renseignez vos animes",-1),On={class:"search-box"},vn=Object(a["h"])("button",{class:"search-btn"},[Object(a["h"])("i",{class:"fas fa-search"})],-1),gn={class:"table"},kn=Object(a["h"])("thead",null,[Object(a["h"])("th",null,"title"),Object(a["h"])("th",null,"season"),Object(a["h"])("th",null,"number_of_episodes"),Object(a["h"])("th",null,"episode_duration"),Object(a["h"])("th",null,"note")],-1),yn=Object(a["h"])("option",{value:"-1"},"---",-1),An={key:0,selected:"",value:"0"},xn={key:1,value:"0"},wn={key:2,selected:"",value:"1"},Tn={key:3,value:"1"},Sn={key:4,selected:"",value:"2"},_n={key:5,value:"2"},Rn={key:6,selected:"",value:"3"},En={key:7,value:"3"},Cn={key:8,selected:"",value:"4"},Un={key:9,value:"4"},In={key:10,selected:"",value:"5"},Nn={key:11,value:"5"},Hn={key:12,selected:"",value:"6"},Ln={key:13,value:"6"},Pn={key:14,selected:"",value:"7"},$n={key:15,value:"7"},zn={key:16,selected:"",value:"8"},Mn={key:17,value:"8"},Vn={key:18,selected:"",value:"9"},Jn={key:19,value:"9"},Fn={key:20,selected:"",value:"10"},Gn={key:21,value:"10"};Object(a["s"])();var qn=cn((function(e,t,n,r,o,c){return Object(a["r"])(),Object(a["d"])("div",sn,[Object(a["h"])("div",un,[Object(a["h"])("div",ln,[Object(a["h"])("div",dn,[Object(a["h"])("div",bn,[Object(a["h"])("div",mn,[hn,Object(a["h"])("div",fn,[(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.$store.state.genre,(function(n){return Object(a["r"])(),Object(a["d"])("div",{class:"genre",key:n.id},[Object(a["H"])(Object(a["h"])("input",{class:"check-input",type:"checkbox",id:n.id,value:n.id,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selected=t})},null,8,["id","value"]),[[a["C"],e.selected]]),Object(a["h"])("label",{class:"noselect",for:n.id},Object(a["A"])(n.name),9,["for"])])})),128))]),Object(a["h"])("span",null,"selected : "+Object(a["A"])(e.selected),1),Object(a["h"])("input",{class:"btn",type:"button",name:"",value:"Genres",onClick:t[2]||(t[2]=function(){return c.genres&&c.genres.apply(c,arguments)})})]),Object(a["h"])("div",pn,[jn,Object(a["h"])("div",On,[Object(a["h"])("input",{class:"search-txt",id:"search",type:"text",name:"",placeholder:"type to search",value:"",onKeyup:t[3]||(t[3]=function(e){return c.getValue()})},null,32),vn]),Object(a["h"])("table",gn,[kn,(Object(a["r"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.$store.state.animeSearch,(function(n){return Object(a["r"])(),Object(a["d"])("tbody",{key:n.id},[Object(a["H"])(Object(a["h"])("input",{class:"check-input",type:"checkbox",id:1e3+n.id,value:n.id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedAnime=t}),onClick:function(e){return c.animes(n.id)}},null,8,["id","value","onClick"]),[[a["C"],e.selectedAnime]]),Object(a["h"])("tr",null,[Object(a["h"])("td",null,[Object(a["h"])("label",{class:"noselect",for:1e3+n.id},Object(a["A"])(n.title),9,["for"])]),Object(a["h"])("td",null,[Object(a["h"])("label",{class:"noselect",for:1e3+n.id},Object(a["A"])(n.season),9,["for"])]),Object(a["h"])("td",null,[Object(a["h"])("label",{class:"noselect",for:1e3+n.id},Object(a["A"])(n.number_of_episodes),9,["for"])]),Object(a["h"])("td",null,[Object(a["h"])("label",{class:"noselect",for:1e3+n.id},Object(a["A"])(n.episode_duration),9,["for"])]),Object(a["h"])("td",null,[e.selectedAnime.includes(n.id)?(Object(a["r"])(),Object(a["d"])("select",{key:0,id:n.id-1e3,onChange:function(e){return c.changeNote(n.id-1e3)}},[yn,0==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",An,"0")):(Object(a["r"])(),Object(a["d"])("option",xn,"0")),1==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",wn,"1")):(Object(a["r"])(),Object(a["d"])("option",Tn,"1")),2==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Sn,"2")):(Object(a["r"])(),Object(a["d"])("option",_n,"2")),3==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Rn,"3")):(Object(a["r"])(),Object(a["d"])("option",En,"3")),4==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Cn,"4")):(Object(a["r"])(),Object(a["d"])("option",Un,"4")),5==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",In,"5")):(Object(a["r"])(),Object(a["d"])("option",Nn,"5")),6==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Hn,"6")):(Object(a["r"])(),Object(a["d"])("option",Ln,"6")),7==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Pn,"7")):(Object(a["r"])(),Object(a["d"])("option",$n,"7")),8==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",zn,"8")):(Object(a["r"])(),Object(a["d"])("option",Mn,"8")),9==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Vn,"9")):(Object(a["r"])(),Object(a["d"])("option",Jn,"9")),10==c.score(n.id)?(Object(a["r"])(),Object(a["d"])("option",Fn,"10")):(Object(a["r"])(),Object(a["d"])("option",Gn,"10"))],40,["id","onChange"])):Object(a["e"])("",!0)])])])})),128))]),Object(a["h"])("span",null,"selected : "+Object(a["A"])(e.selectedAnime),1)])])])])])])})),Bn={name:"Recommandation",data:function(){return{selected:[],selectedAnime:[],selectedAnimeScore:[{}],userGenre:[],userAnime:[]}},methods:{getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),a=n.split(";"),r=0;r<a.length;r++){var o=a[r];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},getGenreUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/genre/utilisateur",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.userGenre=t.sent,r=[[]],o=Object(pt["a"])(e.userGenre);try{for(o.s();!(c=o.n()).done;)r=c.value,e.selected.push(r.id_genre.id)}catch(i){o.e(i)}finally{o.f()}case 11:case"end":return t.stop()}}),t)})))()},getAnimeUser:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},n["Authorization"]="Token "+e.getCookie("token"),t.next=4,fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{headers:n});case 4:return a=t.sent,t.next=7,a.json();case 7:e.userAnime=t.sent,r=[[]],o=Object(pt["a"])(e.userAnime);try{for(o.s();!(c=o.n()).done;)r=c.value,e.selectedAnime.push(r.id_anime.id),i={id:r.id_anime.id,score:r.score},e.selectedAnimeScore.push(i)}catch(s){o.e(s)}finally{o.f()}case 11:case"end":return t.stop()}}),t)})))()},getValue:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=document.getElementById("search").value,!(n.length>4)){t.next=4;break}return t.next=4,e.$store.dispatch("getAnimeSearch",n);case 4:case"end":return t.stop()}}),t)})))()},score:function(e){return this.selectedAnimeScore.find((function(t){return t.id===e}))?this.selectedAnimeScore.find((function(t){return t.id===e})).score:-1},genres:function(){var e,t=[],n=Object(pt["a"])(this.selected);try{for(n.s();!(e=n.n()).done;){var a=e.value,r={id:a};t.push(r)}}catch(c){n.e(c)}finally{n.f()}var o={"Content-Type":"application/json"};o["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/genre/utilisateur",{method:"PUT",headers:o,body:JSON.stringify({genres:t})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}))},animes:function(e){var t;t=this.selectedAnime.includes(e)?"DELETE":"POST";var n={"Content-Type":"application/json"};n["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{method:t,headers:n,body:JSON.stringify({id_anime:e,score:-1,description:"------"})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}))},changeNote:function(e){var t=document.getElementById(e).value,n={"Content-Type":"application/json"};n["Authorization"]="Token "+this.getCookie("token"),fetch("http://otakurealm.mooo.com/api/anime/utilisateur",{method:"put",headers:n,body:JSON.stringify({id_anime:e+1e3,score:t})}).then((function(e){return 200===e.status?e.json():(console.log("erreur requete"),null)}),(function(e){console.log("err",e)}))}},mounted:function(){this.$store.dispatch("getGenre"),this.$store.dispatch("getAnimes")},created:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGenreUser();case 2:return t.next=4,e.getAnimeUser();case 4:case"end":return t.stop()}}),t)})))()}};n("3a79");Bn.render=qn,Bn.__scopeId="data-v-6e0fc5b6";var Dn=Bn,Yn=[{path:"/",name:"Home",component:F},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",name:"Login",component:Ie},{path:"/recommandation",name:"Recommandation",component:Dn},{path:"/profil",name:"Profil",component:Ot},{path:"/detailanime",name:"DetailAnime",component:on}],Kn=Object(w["a"])({history:Object(w["b"])(),routes:Yn}),Qn=Kn,Wn=n("5502"),Xn=Object(Wn["a"])({state:{authenticated:!1,genre:[],animes:[],animesAllTime:[],animesSeason:[],animeYear:[],animeSearch:[],alert:""},mutations:{AUTHENTIFICATION:function(e){e.authenticated=!e.authenticated},SETGENRE:function(e,t){t.json().then((function(t){e.genre=t}))},SETANIME:function(e,t){t.json().then((function(t){e.animes=t}))},SETALERT:function(e,t){e.alert=t},SETANIMEALLTIME:function(e,t){t.json().then((function(t){e.animesAllTime=t}))},SETANIMESEASON:function(e,t){t.json().then((function(t){e.animesSeason=t}))},SETANIMEYEAR:function(e,t){t.json().then((function(t){e.animeYear=t}))},SETANIMESEARCH:function(e,t){t.json().then((function(t){e.animeSearch=t}))}},getters:{GETANIMESEARCH:function(e){return e.animeSearch}},actions:{getToken:function(e,t){e.commit("SETALERT",""),fetch("http://otakurealm.mooo.com/api/login/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})}).then((function(e){return 200===e.status?(console.log("status ok!"),e.json()):(console.log("erreur requete"),null)}),(function(e){console.log("err",e)})).then((function(t){if(null==t)return console.log("mdp ou username incorrect"),e.commit("SETALERT","mdp ou username incorrect"),null;void 0!=t.token&&(console.log("connexion..."),console.log(t.token),document.cookie="token = "+t.token,e.commit("AUTHENTIFICATION"),1==e.state.authenticated&&Qn.push("/"))}))},auth_logout:function(e){e.commit("AUTHENTIFICATION"),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},authenticated:function(e){e.commit("AUTHENTIFICATION")},getGenre:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/genre");case 2:n=t.sent,e.commit("SETGENRE",n);case 4:case"end":return t.stop()}}),t)})))()},getAnimes:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/anime");case 2:n=t.sent,e.commit("SETANIME",n);case 4:case"end":return t.stop()}}),t)})))()},getAnimesTopAll:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/anime_allTime");case 2:n=t.sent,e.commit("SETANIMEALLTIME",n);case 4:case"end":return t.stop()}}),t)})))()},getAnimesSeason:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/anime_saison");case 2:n=t.sent,e.commit("SETANIMESEASON",n);case 4:case"end":return t.stop()}}),t)})))()},getAnimesYear:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://otakurealm.mooo.com/api/anime_annee");case 2:n=t.sent,e.commit("SETANIMEYEAR",n);case 4:case"end":return t.stop()}}),t)})))()},getAnimeSearch:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://otakurealm.mooo.com/api/recherche/?search="+t);case 2:a=n.sent,e.commit("SETANIMESEARCH",a);case 4:case"end":return n.stop()}}),n)})))()}},modules:{}});n("b383"),Object(a["c"])(x).use(Xn).use(Qn).mount("#app")},"5ad9":function(e,t,n){},"5c5d":function(e,t,n){"use strict";n("7a69")},"5f0b":function(e,t,n){},"62c0":function(e,t,n){},"7a69":function(e,t,n){},8232:function(e,t,n){"use strict";n("cbfe")},a808:function(e,t,n){},b383:function(e,t,n){},b550:function(e,t,n){},c01a:function(e,t,n){},c3b7:function(e,t,n){},c6ed:function(e,t,n){"use strict";n("5ad9")},cbfe:function(e,t,n){},cd2e:function(e,t,n){"use strict";n("a808")},dcaf:function(e,t,n){"use strict";n("c3b7")},e6e2:function(e,t,n){"use strict";n("5f0b")}});
//# sourceMappingURL=app.0df54cf5.js.map